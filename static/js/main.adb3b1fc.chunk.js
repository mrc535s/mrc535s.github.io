(this.webpackJsonpposter=this.webpackJsonpposter||[]).push([[0],{34:function(n,t,e){},41:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),o=e(24),i=e.n(o),a=(e(34),e(9)),s=e(3),u=e(4),d="http://jsonplaceholder.typicode.com/posts",b=new Headers({Accept:"application/vnd.github.cloak-preview","Content-type":"application/json; charset=UTF-8"}),j=function(){return fetch(d,{method:"GET",headers:b})},l=function(n,t){return fetch(d,{method:"POST",body:JSON.stringify({title:n.title,body:n.content,userId:t}),headers:b})},f=function(n){return fetch("".concat(d,"/").concat(n),{method:"DELETE"})},p=e(28),x="ADD_POSTS",O="ADD_POST",h="DELETE_POST";var g=function(n,t){switch(t.type){case x:return t.data;case O:if(n.find((function(n){return n.id===t.data.id}))){var e=n.sort((function(n,t){return n-t}))[0].id+1;t.data.id=e}return[t.data].concat(Object(p.a)(n));case h:return n.filter((function(n){return n.id!==t.id}));default:return n}},v="#cccccc",m="#666666",y="#fff",w="#005bbb",k="#990000",P="#ffc72c";function T(){var n=Object(s.a)(["\n            background-color: #cccccc;\n            color: ",";\n            background: ",";\n            border: 1px solid ",";\n            cursor: not-allowed;\n          "]);return T=function(){return n},n}function S(){var n=Object(s.a)(["\n          background: ",";\n          border: 2px solid ",";\n        "]);return S=function(){return n},n}function C(){var n=Object(s.a)(["\n        background: ",";\n        border: 2px solid ",";\n      "]);return C=function(){return n},n}function E(){var n=Object(s.a)(["\n  background: ",";\n  color: ",";\n  border-radius: 20px;\n  border: 2px solid ",";\n  padding: 0.5em 1em;\n  font-size: 14px;\n  margin-right: 5px;\n  margin-top: 5px;\n  cursor: pointer;\n\n    ",";\n\n      ",";\n\n        ",";\n"]);return E=function(){return n},n}var F=u.b.button(E(),w,y,w,(function(n){return n.danger&&Object(u.a)(C(),k,k)}),(function(n){return n.secondary&&Object(u.a)(S(),P,P)}),(function(n){return n.disabled&&Object(u.a)(T(),m,v,v)}));function D(){var n=Object(s.a)(["\n    color: ",";\n    margin-left: 5px;\n    }\n"]);return D=function(){return n},n}var L=u.b.span(D(),k);function z(){var n=Object(s.a)(["\n    border: "," 1px solid;\n    padding: 0px 20px 10px;\n    margin: 10px 0;\n    border-radius: 5px;\n }\n"]);return z=function(){return n},n}var N=u.b.section(z(),v),A=function(n){var t=n.title,e=n.body,o=n.id,i=Object(c.useContext)(tn).setPosts,s=Object(c.useState)(!1),u=Object(a.a)(s,2),d=u[0],b=u[1],j=Object(c.useState)(null),l=Object(a.a)(j,2),p=l[0],x=l[1];return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(N,{children:[Object(r.jsx)("h2",{children:t}),Object(r.jsxs)("p",{children:[" ",e]}),Object(r.jsx)(F,{danger:!0,disabled:d,onClick:function(){return function(n){b(!0),x(null),f(n).then((function(t){if(!t.ok)throw Error(t.statusText);b(!1),i({type:h,id:n})})).catch((function(n){console.error(n),b(!1),x("There was an error deleting the post, please try again")}))}(o)},children:"Delete"}),p&&Object(r.jsx)(L,{children:p})]})})},B=e(12);function I(){var n=Object(s.a)(["\n            background-color: ",";\n            color: ",";\n            background: ",";\n            border: 1px solid ",";\n            cursor: not-allowed;\n          "]);return I=function(){return n},n}function J(){var n=Object(s.a)(["\n          background: ",";\n          border: 2px solid ",";\n        "]);return J=function(){return n},n}function _(){var n=Object(s.a)(["\n        background: ",";\n        border: 2px solid ",";\n      "]);return _=function(){return n},n}function q(){var n=Object(s.a)(["\n  background: ",";\n  color: ",";\n  border-radius: 20px;\n  border: 2px solid ",";\n  padding: .5em 1em;\n  text-decoration: none;\n  font-size: 14px;\n  margin-right: 5px;\n  margint-top: 5px;\n  cursor: pointer;\n\n    ",";\n\n      ",";\n\n        ",";\n"]);return q=function(){return n},n}var G=Object(u.b)(B.b)(q(),w,y,w,(function(n){return n.danger&&Object(u.a)(_(),k,k)}),(function(n){return n.secondary&&Object(u.a)(J(),P,P)}),(function(n){return n.disabled&&Object(u.a)(I(),v,m,v,v)}));function H(){var n=Object(s.a)(["\n    margin-top: 120px;\n"]);return H=function(){return n},n}function R(){var n=Object(s.a)(["\n    top: 0;\n    width: 100%;\n    background-color: #fff;\n    padding-bottom: 30px;\n    border-bottom: 1px solid ",";\n    position: fixed;\n"]);return R=function(){return n},n}var U=u.b.div(R(),v),K=u.b.div(H()),M=function(n){var t=n.posts;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(U,{children:[Object(r.jsx)("h1",{children:"Post Feed"}),Object(r.jsx)("section",{children:Object(r.jsx)(G,{to:"/posts/add",children:"Create New Post"})})]}),Object(r.jsx)(K,{children:t.length?Object(r.jsx)("div",{children:Object(r.jsx)("section",{children:t.map((function(n){return Object(r.jsx)(A,{id:n.id,title:n.title,body:n.body},n.id)}))})}):Object(r.jsxs)("section",{children:[Object(r.jsx)("h1",{children:"No Posts Found!"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{})]})})]})},Q=e(17),V=e(22);function W(){var n=Object(s.a)(["\nwidth: 400px;\nheight: 40px;\nmargin: 10px 0;\npadding: 5px;\nborder: 1px solid ",";\nborder-radius: 5px;\noutline: none;\ndisplay:block;\n"]);return W=function(){return n},n}var X=u.b.input(W(),v);function Y(){var n=Object(s.a)(["\nresize: none;\nheight: 100px;\nwidth: 400px;\nfont: 400 12px sans-serif;\npadding: 5px;\nborder: 1px solid ",";\nborder-radius: 5px;\noutline: none;"]);return Y=function(){return n},n}var Z=u.b.textarea(Y(),v),$=function(n){var t=Object(c.useContext)(tn).setPosts,e={id:null,title:"",body:""},o=Object(c.useState)(e),i=Object(a.a)(o,2),s=i[0],u=i[1],d=Object(c.useState)(!1),b=Object(a.a)(d,2),j=b[0],f=b[1],p=Object(c.useState)(null),x=Object(a.a)(p,2),h=x[0],g=x[1],v=function(n){var t=n.target,e=t.name,r=t.value;u(Object(V.a)(Object(V.a)({},s),{},Object(Q.a)({},e,r)))};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("section",{children:[Object(r.jsx)("h1",{children:"Create New Post"}),Object(r.jsxs)("form",{onSubmit:function(r){r.preventDefault(),g(null),f(!0),l(s,1).then((function(n){if(!n.ok)throw new Error(n.statusText);return n.json()})).then((function(r){s.id=r.id,t({type:O,data:s}),u(e),f(!1),n.history.push("/posts")})).catch((function(n){f(!1),g("There was an error creating the Post.  Please try again.")}))},children:[Object(r.jsx)(X,{type:"text",placeholder:"Title",disabled:j,required:!0,name:"title",size:"50",value:s.title,onChange:v}),Object(r.jsx)(Z,{placeholder:"Body",required:!0,name:"body",disabled:j,value:s.body,onChange:v}),Object(r.jsxs)("section",{children:[Object(r.jsx)(G,{to:"/posts",disabled:j,secondary:"true",children:"Cancel"}),Object(r.jsx)(F,{disabled:j,children:"Save Post"}),h&&Object(r.jsx)(L,{children:h})]})]})]})})},nn=e(2),tn=Object(c.createContext)(),en=function(){var n=Object(c.useReducer)(g,[]),t=Object(a.a)(n,2),e=t[0],o=t[1],i=Object(c.useState)(null),s=Object(a.a)(i,2),u=s[0],d=s[1],b=Object(c.useState)(!0),l=Object(a.a)(b,2),f=l[0],p=l[1];return Object(c.useEffect)((function(){p(!0),d(null);var n=!0;return j().then((function(n){if(!n.ok)throw new Error(n.statusText);return n.json()})).then((function(t){n&&o({type:x,data:t})})).catch((function(t){console.log(t),n&&d("There was an error loading posts.  Please try again")})).finally((function(){n&&p(!1)})),function(){n=!1}}),[]),Object(r.jsx)(tn.Provider,{value:{setPosts:o},children:Object(r.jsx)("div",{children:Object(r.jsx)(B.a,{children:Object(r.jsxs)(nn.c,{children:[Object(r.jsx)(nn.a,{exact:!0,path:["/posts","/"],children:f?Object(r.jsx)("div",{children:"Loading Posts..."}):u?Object(r.jsx)("div",{children:u}):Object(r.jsx)(M,{posts:e})}),Object(r.jsx)(nn.a,{exact:!0,path:"/posts/add",component:$})]})})})})},rn=function(){return Object(r.jsx)("div",{children:Object(r.jsx)(en,{})})},cn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,42)).then((function(t){var e=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;e(n),r(n),c(n),o(n),i(n)}))};i.a.render(Object(r.jsx)(rn,{}),document.getElementById("root")),cn()}},[[41,1,2]]]);
//# sourceMappingURL=main.adb3b1fc.chunk.js.map